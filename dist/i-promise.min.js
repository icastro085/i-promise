!function(){"use strict";/**
     * Class for use promise
     * @author Ivanildo de Castro
     * @license MIT
     */
function t(t){"function"==typeof t&&(this.execute=this.execute.bind(this,t),this.execute())}t.resolved=function(e){return new t(function(t){t(e)})},t.all=function(){var e,r=t.resolved();for(e=0;e<arguments.length;e++)r.then(arguments[e]);return r},t.deferred=function(){var e=new t;return{promise:e,resolve:e.resolve.bind(e)}},t.prototype.wasExecuted=!1,t.prototype.thenArray=[],t.prototype.failArray=[],t.prototype.finallyArray=[],t.prototype.execute=function(t,e){clearTimeout(this.wasExecuted),this.wasExecuted=null,e?t(this.resolve.bind(this)):(this.thenArray=[],this.failArray=[],this.finallyArray=[],this.wasExecuted=setTimeout(t.bind(t,this.resolve.bind(this)),0))},t.prototype.done=function(){this.execute(!0)},t.prototype.resolve=function(t){try{var e=this.forEachCallback(this.thenArray,t);e&&(this.concatenateCallbacks(e),e.done()),this.thenArray=[]}catch(t){this.forEachCallback(this.failArray,{message:t}),this.failArray=[]}finally{this.forEachCallback(this.finallyArray),this.failArray=[]}},t.prototype.forEachCallback=function(e,r){var i,n,o;for(i=0;i<e.length;i++)if(n=e[i],"function"==typeof n&&(r=n(r)),r instanceof t){o=i;break}if(r instanceof t)return e.splice(0,o+1),r},t.prototype.concatenateCallbacks=function(t){["thenArray","failArray","finallyArray"].map(function(t){this.concatenateLists(ipromise[t],this[t]),this[t]=[]}.bind(this))},t.prototype.concatenateLists=function(t,e){var r;for(r=0;r<e.length;r++)t.push(e[r])},t.prototype.then=function(t){return this.thenArray.push(t),this},t.prototype.fail=function(t){return this.failArray.push(t),this},t.prototype.finally=function(t){return this.finallyArray.push(t),this},module&&module.exports?module.exports=t:window.IPromise=t}();